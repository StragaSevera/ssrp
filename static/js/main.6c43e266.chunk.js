(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(t,e,r){t.exports={table_grid:"TableGrid_table_grid__YYuux"}},16:function(t,e,r){t.exports={img_component:"ImageComponent_img_component__3e6zZ",img_container:"ImageComponent_img_container__m4F9B",selected_high:"ImageComponent_selected_high__y4VUD",selected_medium:"ImageComponent_selected_medium__oP6j5",selected_low:"ImageComponent_selected_low___PASf"}},21:function(t,e,r){t.exports={app:"App_app__1kX79"}},22:function(t,e,r){t.exports={info:"Info_info__2Hz0p"}},23:function(t,e,r){t.exports=r(30)},28:function(t,e,r){},30:function(t,e,r){"use strict";r.r(e);var n,o=r(0),a=r.n(o),i=r(11),c=r.n(i),u=(r(28),r(4)),l=r(5),s=r(7),p=r(3),b=r(6),h=r(21),f=r.n(h),y=r(15),d=r.n(y),O=r(9),m="store",j=r(16),g=r.n(j);function k(t){var e=[g.a.img_component];return t.selected&&e.push(g.a[t.selected]),e.join(" ")}function v(t){var e=Math.ceil(14*t);return"assets/Bar".concat(e<14?e:14,".png")}!function(t){t.high="selected_high",t.medium="selected_medium",t.low="selected_low"}(n||(n={}));var C,w,E,x,H,_,U,z,D,N,P,T,R,S,G,A,I=function(t){var e="assets/components/"+t.brand.toString()+".png";return e?t.bar&&t.bar>0?o.createElement("div",{style:{backgroundImage:"url(".concat(e,")")},className:g.a.img_container},o.createElement("img",{src:v(t.bar),alt:t.brand})):o.createElement("img",{src:e,alt:t.brand,className:k(t)}):null},Y=r(12),W=r(2),V=r(8),B=(r(14),r(1)),X=r(17),M=function(t){function e(){return Object(u.a)(this,e),Object(s.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(b.a)(e,t),e}(Object(X.a)(Error)),J=function(t){function e(){return Object(u.a)(this,e),Object(s.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(b.a)(e,t),e}(Object(X.a)(Error)),F=(C=B.k.struct,w=function(){function t(e,r,n){Object(u.a)(this,t),Object(V.a)(this,"brand",E,this),Object(V.a)(this,"currentHeat",x,this),Object(V.a)(this,"nextHeat",H,this),Object(V.a)(this,"coords",_,this),this.reactor=void 0,this.reactorComponent=void 0,this.reactor=e,this.reactorComponent=e.reactorComponent,this.coords={x:r,y:n}}return Object(l.a)(t,[{key:"addNextHeat",value:function(t){if(!this.isHeatable)throw new J("This component cannot be heated: ".concat(this.brand.toString()));this.nextHeat+=t}},{key:"lowerNextHeat",value:function(t){if(!this.isHeatable)throw new J("This component cannot be heated: ".concat(this.brand.toString()));this.nextHeat-=t}},{key:"refresh",value:function(){this.currentHeat=0,this.nextHeat=0}},{key:"finalizeTick",value:function(){this.currentHeat+=this.nextHeat,this.nextHeat=0,this.currentHeat<0&&(this.currentHeat=0)}},{key:"fullTick",value:function(){this.tick(),this.finalizeTick()}},{key:"neighbours",get:function(){return this.reactor.getNeighbours(this.coords.x,this.coords.y)}},{key:"isHeatable",get:function(){return 0!==this.maxHeat}},{key:"maxHeat",get:function(){return 0}},{key:"heatRatio",get:function(){var t=this.maxHeat;return 0===t?0:this.currentHeat/t}},{key:"isReflector",get:function(){return!1}}]),t}(),E=Object(W.a)(w.prototype,"brand",[B.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=Object(W.a)(w.prototype,"currentHeat",[B.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),H=Object(W.a)(w.prototype,"nextHeat",[B.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=Object(W.a)(w.prototype,"coords",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(W.a)(w.prototype,"addNextHeat",[B.d],Object.getOwnPropertyDescriptor(w.prototype,"addNextHeat"),w.prototype),Object(W.a)(w.prototype,"lowerNextHeat",[B.d],Object.getOwnPropertyDescriptor(w.prototype,"lowerNextHeat"),w.prototype),Object(W.a)(w.prototype,"refresh",[B.d],Object.getOwnPropertyDescriptor(w.prototype,"refresh"),w.prototype),Object(W.a)(w.prototype,"finalizeTick",[B.d],Object.getOwnPropertyDescriptor(w.prototype,"finalizeTick"),w.prototype),Object(W.a)(w.prototype,"fullTick",[B.d],Object.getOwnPropertyDescriptor(w.prototype,"fullTick"),w.prototype),w),Z=(U=function(t){function e(){var t,r;Object(u.a)(this,e);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=Object(s.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(o)))).brand=A.EmptyComponent,r}return Object(b.a)(e,t),Object(l.a)(e,[{key:"tick",value:function(){}}]),e}(F),Object(W.a)(U.prototype,"tick",[B.d],Object.getOwnPropertyDescriptor(U.prototype,"tick"),U.prototype),U),$=r(10),q=r(18),K=(z=function(t){function e(){var t,r;Object(u.a)(this,e);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=Object(s.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(o)))).brand=A.ReactorComponent,Object(V.a)(r,"currentEU",D,Object($.a)(r)),Object(V.a)(r,"nextEU",N,Object($.a)(r)),r}return Object(b.a)(e,t),Object(l.a)(e,[{key:"tick",value:function(){}},{key:"addNextEU",value:function(t){this.nextEU+=t}},{key:"finalizeTick",value:function(){Object(q.a)(Object(p.a)(e.prototype),"finalizeTick",this).call(this),this.currentEU+=this.nextEU,this.nextEU=0}},{key:"refresh",value:function(){Object(q.a)(Object(p.a)(e.prototype),"refresh",this).call(this),this.nextEU=0,this.currentEU=0}},{key:"neighbours",get:function(){throw new Error("There cannot be neigbours for a reactor component!")}},{key:"maxHeat",get:function(){return 8500}}]),e}(F),D=Object(W.a)(z.prototype,"currentEU",[B.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=Object(W.a)(z.prototype,"nextEU",[B.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(W.a)(z.prototype,"tick",[B.d],Object.getOwnPropertyDescriptor(z.prototype,"tick"),z.prototype),Object(W.a)(z.prototype,"addNextEU",[B.d],Object.getOwnPropertyDescriptor(z.prototype,"addNextEU"),z.prototype),Object(W.a)(z.prototype,"finalizeTick",[B.d],Object.getOwnPropertyDescriptor(z.prototype,"finalizeTick"),z.prototype),Object(W.a)(z.prototype,"refresh",[B.d],Object.getOwnPropertyDescriptor(z.prototype,"refresh"),z.prototype),z),L=(P=function(t){function e(){var t,r;Object(u.a)(this,e);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=Object(s.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(o))),Object(V.a)(r,"brand",T,Object($.a)(r)),r}return Object(b.a)(e,t),Object(l.a)(e,[{key:"getEUHeat",value:function(t){var e=1+t.filter(function(t){return t.isReflector}).length+Math.floor(this.arity/2);return{eu:5*this.arity*e,heat:2*this.arity*e*(e+1)}}},{key:"tick",value:function(){var t=this.neighbours,e=this.getEUHeat(t),r=e.eu,n=e.heat;this.reactorComponent.addNextEU(r);var o=t.filter(function(t){return t.isHeatable});if(0===o.length)this.reactorComponent.addNextHeat(n);else{var a=Math.floor(n/o.length),i=!0,c=!1,u=void 0;try{for(var l,s=o[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){l.value.addNextHeat(a)}}catch(p){c=!0,u=p}finally{try{i||null==s.return||s.return()}finally{if(c)throw u}}o[0].addNextHeat(n%o.length)}}},{key:"arity",get:function(){throw new Error("Cannot get arity from an abstract cell")}},{key:"isReflector",get:function(){return!0}}]),e}(F),T=Object(W.a)(P.prototype,"brand",[B.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(W.a)(P.prototype,"tick",[B.d],Object.getOwnPropertyDescriptor(P.prototype,"tick"),P.prototype),P),Q=function(t){function e(){var t,r;Object(u.a)(this,e);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=Object(s.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(o)))).brand=A.UraniumCellSingle,r}return Object(b.a)(e,t),Object(l.a)(e,[{key:"arity",get:function(){return 1}},{key:"isReflector",get:function(){return!0}}]),e}(L),tt=(R=function(t){function e(){var t,r;Object(u.a)(this,e);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=Object(s.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(o)))).brand=A.CoolantCell20k,r}return Object(b.a)(e,t),Object(l.a)(e,[{key:"tick",value:function(){}},{key:"maxHeat",get:function(){return 1e4}}]),e}(F),Object(W.a)(R.prototype,"tick",[B.d],Object.getOwnPropertyDescriptor(R.prototype,"tick"),R.prototype),R),et=(S=function(t){function e(){var t,r;Object(u.a)(this,e);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=Object(s.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(o)))).brand=A.HeatVent,r}return Object(b.a)(e,t),Object(l.a)(e,[{key:"tick",value:function(){this.lowerNextHeat(6)}},{key:"maxHeat",get:function(){return 1e3}}]),e}(F),Object(W.a)(S.prototype,"tick",[B.d],Object.getOwnPropertyDescriptor(S.prototype,"tick"),S.prototype),S),rt=function(t){function e(){var t,r;Object(u.a)(this,e);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=Object(s.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(o)))).brand=A.UraniumCellDouble,r}return Object(b.a)(e,t),Object(l.a)(e,[{key:"arity",get:function(){return 2}},{key:"isReflector",get:function(){return!0}}]),e}(L);!function(t){t.EmptyComponent="EmptyComponent",t.ReactorComponent="ReactorComponent",t.UraniumCellSingle="UraniumCellSingle",t.UraniumCellDouble="UraniumCellDouble",t.HeatVent="HeatVent",t.CoolantCell20k="CoolantCell20k"}(A||(A={}));var nt,ot=(G={},Object(Y.a)(G,A.EmptyComponent,Z),Object(Y.a)(G,A.ReactorComponent,K),Object(Y.a)(G,A.UraniumCellSingle,Q),Object(Y.a)(G,A.UraniumCellDouble,rt),Object(Y.a)(G,A.HeatVent,et),Object(Y.a)(G,A.CoolantCell20k,tt),G),at=Object.keys(ot).filter(function(t){return t!==A.ReactorComponent});var it,ct,ut,lt,st,pt=Object(O.b)(m)(nt=function(t){function e(t){var r;return Object(u.a)(this,e),(r=Object(s.a)(this,Object(p.a)(e).call(this,t))).store=void 0,r.brandGrid=void 0,r.rowSize=4,r.pickComponent=function(t,e){return function(){r.store.selectedComponent=r.brandGrid[e][t],r.setState({selectedX:t,selectedY:e})}},r.isSelected=function(t,e){return r.state.selectedX===t&&r.state.selectedY===e},r.store=t.store,r.brandGrid=function(t,e){for(var r=[],n=[],o=0;o<t.length;o++)n.push(t[o]),o%e===e-1&&(r.push(n),n=[]);return 0!==n.length&&r.push(n),r}(at,r.rowSize),r.state={selectedX:0,selectedY:0},r}return Object(b.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this;return o.createElement("table",{className:d.a.table_grid},o.createElement("tbody",null,this.brandGrid.map(function(e,r){return o.createElement("tr",{key:r},e.map(function(e,a){return o.createElement("td",{key:a,onClick:t.pickComponent(a,r)},o.createElement(I,{brand:e,selected:t.isSelected(a,r)?n.high:void 0}))}))})))}}]),e}(o.Component))||nt,bt=Object(O.b)(m)(it=Object(O.c)(it=function(t){function e(t){var r;return Object(u.a)(this,e),(r=Object(s.a)(this,Object(p.a)(e).call(this,t))).store=void 0,r.changeCell=function(t,e){return function(){r.store.reactor.setComponentClass(t,e,r.store.selectedComponent),r.store.recount()}},r.store=t.store,r}return Object(b.a)(e,t),Object(l.a)(e,[{key:"getSelection",value:function(t){return 0===t.currentHeat?void 0:t.currentHeat<50?n.low:t.currentHeat<200?n.medium:n.high}},{key:"render",value:function(){var t=this;return o.createElement("table",{className:d.a.table_grid},o.createElement("tbody",null,this.store.reactor.grid.map(function(e,r){return o.createElement("tr",{key:r+1},e.map(function(e,n){return o.createElement("td",{key:n+1,onClick:t.changeCell(n+1,r+1)},o.createElement(I,{brand:e.brand,selected:t.getSelection(e),bar:e.heatRatio}))}))})))}}]),e}(o.Component))||it)||it,ht=r(22),ft=r.n(ht),yt=Object(O.b)(m)(ct=Object(O.c)(ct=function(t){function e(t){var r;return Object(u.a)(this,e),(r=Object(s.a)(this,Object(p.a)(e).call(this,t))).store=void 0,r.store=t.store,r}return Object(b.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return o.createElement("div",{className:ft.a.info},o.createElement("p",null,"Current Heat: ",this.store.reactor.currentHeat,"."),o.createElement("p",null,"Current EU: ",this.store.reactor.currentEU,"."),o.createElement("p",null,o.createElement("input",{type:"button",onClick:this.store.tick,value:"Tick!"}),o.createElement("input",{type:"button",onClick:this.store.recount,value:"Reset"})))}}]),e}(o.Component))||ct)||ct,dt=function(t){function e(){return Object(u.a)(this,e),Object(s.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(b.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return o.createElement("div",null,o.createElement(bt,null),o.createElement(yt,null))}}]),e}(o.Component),Ot=function(t){function e(){return Object(u.a)(this,e),Object(s.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(b.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return o.createElement("div",{className:f.a.app},o.createElement(dt,null),o.createElement(pt,null))}}]),e}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var mt,jt,gt,kt,vt=(ut=function(){function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;Object(u.a)(this,t),this.gridRows=6,this.defaultGridCols=3,this.gridCols=void 0,Object(V.a)(this,"reactorComponent",lt,this),Object(V.a)(this,"grid",st,this),Object(B.l)(function(){e.reactorComponent=new K(e,-1,-1),e.gridCols=e.defaultGridCols+r;for(var t=0;t<e.gridRows;t++){e.grid[t]=[];for(var n=0;n<e.gridCols;n++)e.grid[t][n]=new Z(e,n,t)}})}return Object(l.a)(t,[{key:"getComponent",value:function(t,e){return this.ensureGoodCoords(t,e),this.grid[e-1][t-1]}},{key:"setComponent",value:function(t,e,r){return this.ensureGoodCoords(t,e),this.grid[e-1][t-1]=r,r}},{key:"getComponentType",value:function(t,e){return this.ensureGoodCoords(t,e),this.getComponent(t,e).brand}},{key:"setComponentClass",value:function(t,e,r){var n;if(this.ensureGoodCoords(t,e),"string"===typeof r){if(r===A.ReactorComponent)throw new J("You cannot add reactor component to grid");n=new ot[r](this,t,e)}else if((n=new r(this,t,e)).brand===A.ReactorComponent)throw new J("You cannot add reactor component to grid");return this.setComponent(t,e,n)}},{key:"getNeighbourCoords",value:function(t,e){var r=this;return[{x:t,y:e+1},{x:t,y:e-1},{x:t+1,y:e},{x:t-1,y:e}].filter(function(t){return!r.isWrongCoords(t.x,t.y)})}},{key:"getNeighbours",value:function(t,e){var r=this;return this.getNeighbourCoords(t,e).map(function(t){return r.getComponent(t.x,t.y)}).filter(function(t){return t.brand!==A.EmptyComponent})}},{key:"isWrongCoords",value:function(t,e){return t<=0||t>this.gridCols||e<=0||e>this.gridRows}},{key:"ensureGoodCoords",value:function(t,e){if(this.isWrongCoords(t,e))throw new M("Wrong coords: ".concat(t,", ").concat(e))}},{key:"tick",value:function(){var t=this.components;t.forEach(function(t){return t.tick()}),t.forEach(function(t){return t.finalizeTick()}),this.reactorComponent.finalizeTick()}},{key:"refresh",value:function(){this.components.forEach(function(t){return t.refresh()}),this.reactorComponent.refresh()}},{key:"components",get:function(){var t=[],e=!0,r=!1,n=void 0;try{for(var o,a=this.grid[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var i=o.value,c=!0,u=!1,l=void 0;try{for(var s,p=i[Symbol.iterator]();!(c=(s=p.next()).done);c=!0){var b=s.value;b.brand!==A.EmptyComponent&&t.push(b)}}catch(h){u=!0,l=h}finally{try{c||null==p.return||p.return()}finally{if(u)throw l}}}}catch(h){r=!0,n=h}finally{try{e||null==a.return||a.return()}finally{if(r)throw n}}return t}},{key:"currentEU",get:function(){return this.reactorComponent.currentEU}},{key:"nextEU",get:function(){return this.reactorComponent.nextEU}},{key:"currentHeat",get:function(){return this.reactorComponent.currentHeat}},{key:"nextHeat",get:function(){return this.reactorComponent.nextHeat}}]),t}(),lt=Object(W.a)(ut.prototype,"reactorComponent",[B.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=Object(W.a)(ut.prototype,"grid",[B.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(W.a)(ut.prototype,"setComponent",[B.d],Object.getOwnPropertyDescriptor(ut.prototype,"setComponent"),ut.prototype),Object(W.a)(ut.prototype,"setComponentClass",[B.d],Object.getOwnPropertyDescriptor(ut.prototype,"setComponentClass"),ut.prototype),Object(W.a)(ut.prototype,"tick",[B.d],Object.getOwnPropertyDescriptor(ut.prototype,"tick"),ut.prototype),Object(W.a)(ut.prototype,"refresh",[B.d],Object.getOwnPropertyDescriptor(ut.prototype,"refresh"),ut.prototype),ut),Ct=(mt=B.d.bound,jt=B.d.bound,gt=function(){function t(e){var r=this;Object(u.a)(this,t),Object(V.a)(this,"reactor",kt,this),this.selectedComponent=void 0,Object(B.l)(function(){r.reactor=new vt(e),r.selectedComponent=A.EmptyComponent})}return Object(l.a)(t,[{key:"recount",value:function(){this.reactor.refresh(),this.reactor.tick()}},{key:"tick",value:function(){this.reactor.tick()}}]),t}(),kt=Object(W.a)(gt.prototype,"reactor",[B.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(W.a)(gt.prototype,"recount",[mt],Object.getOwnPropertyDescriptor(gt.prototype,"recount"),gt.prototype),Object(W.a)(gt.prototype,"tick",[jt],Object.getOwnPropertyDescriptor(gt.prototype,"tick"),gt.prototype),gt),wt=function(t){function e(t){var r;return Object(u.a)(this,e),(r=Object(s.a)(this,Object(p.a)(e).call(this,t))).store=void 0,r.store=new Ct,r}return Object(b.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return o.createElement(O.a,{store:this.store},this.props.children)}}]),e}(o.Component);Object(B.e)({enforceActions:"always"}),c.a.render(a.a.createElement(wt,null,a.a.createElement(Ot,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.6c43e266.chunk.js.map