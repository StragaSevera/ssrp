(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(t,e,r){t.exports={table_grid:"TableGrid_table_grid__2GkxZ"}},15:function(t,e,r){t.exports={img_component:"ImageComponent_img_component__2BXdO",img_container:"ImageComponent_img_container__1Qx-W",selected_high:"ImageComponent_selected_high__3N1Ue",selected_medium:"ImageComponent_selected_medium__3zmZ-",selected_low:"ImageComponent_selected_low__2TCY8"}},19:function(t,e,r){t.exports={app:"App_app__cOkLh"}},20:function(t,e,r){t.exports={info:"Info_info__3J6KW"}},21:function(t,e,r){t.exports=r(33)},26:function(t,e,r){},33:function(t,e,r){"use strict";r.r(e);var n,o=r(0),a=r.n(o),c=r(11),i=r.n(c),u=(r(26),r(3)),l=r(4),s=r(6),p=r(5),b=r(7),h=r(19),f=r.n(h),y=r(14),d=r.n(y),O=r(9),m="store",j=r(15),g=r.n(j);function k(t){var e=[g.a.img_component];return t.selected&&e.push(g.a[t.selected]),e.join(" ")}function v(t){var e=Math.ceil(14*t);return"assets/Bar".concat(e<14?e:14,".png")}!function(t){t.high="selected_high",t.medium="selected_medium",t.low="selected_low"}(n||(n={}));var C,w,E,x,H,_,U,N,z,D,T,P,R,S,W,A,G=function(t){var e="assets/components/"+t.brand.toString()+".png";return e?t.bar&&t.bar>0?o.createElement("div",{style:{backgroundImage:"url(".concat(e,")")},className:g.a.img_container},o.createElement("img",{src:v(t.bar),alt:t.brand})):o.createElement("img",{src:e,alt:t.brand,className:k(t)}):null},I=r(12),Y=r(2),B=r(8),V=(r(13),r(1)),X=(C=V.k.struct,w=function(){function t(e,r,n){Object(u.a)(this,t),Object(B.a)(this,"brand",E,this),Object(B.a)(this,"currentHeat",x,this),Object(B.a)(this,"nextHeat",H,this),Object(B.a)(this,"coords",_,this),this.reactor=void 0,this.reactorComponent=void 0,this.reactor=e,this.reactorComponent=e.reactorComponent,this.coords={x:r,y:n}}return Object(l.a)(t,[{key:"addNextHeat",value:function(t){if(!this.isHeatable)throw new Error("This component cannot be heated: ".concat(this.brand.toString()));this.nextHeat+=t}},{key:"lowerNextHeat",value:function(t){if(!this.isHeatable)throw new Error("This component cannot be heated: ".concat(this.brand.toString()));this.nextHeat-=t}},{key:"finalizeTick",value:function(){this.currentHeat+=this.nextHeat,this.nextHeat=0,this.currentHeat<0&&(this.currentHeat=0)}},{key:"tick",value:function(){}},{key:"fullTick",value:function(){this.tick(),this.finalizeTick()}},{key:"refresh",value:function(){this.currentHeat=0,this.nextHeat=0}},{key:"neighbours",get:function(){return this.reactor.getNeighbours(this.coords.x,this.coords.y)}},{key:"isHeatable",get:function(){return 0!==this.maxHeat}},{key:"maxHeat",get:function(){return 0}},{key:"heatRatio",get:function(){var t=this.maxHeat;return 0===t?0:this.currentHeat/t}},{key:"isReflector",get:function(){return!1}}]),t}(),E=Object(Y.a)(w.prototype,"brand",[V.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=Object(Y.a)(w.prototype,"currentHeat",[V.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),H=Object(Y.a)(w.prototype,"nextHeat",[V.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=Object(Y.a)(w.prototype,"coords",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(Y.a)(w.prototype,"addNextHeat",[V.d],Object.getOwnPropertyDescriptor(w.prototype,"addNextHeat"),w.prototype),Object(Y.a)(w.prototype,"lowerNextHeat",[V.d],Object.getOwnPropertyDescriptor(w.prototype,"lowerNextHeat"),w.prototype),Object(Y.a)(w.prototype,"finalizeTick",[V.d],Object.getOwnPropertyDescriptor(w.prototype,"finalizeTick"),w.prototype),Object(Y.a)(w.prototype,"fullTick",[V.d],Object.getOwnPropertyDescriptor(w.prototype,"fullTick"),w.prototype),Object(Y.a)(w.prototype,"refresh",[V.d],Object.getOwnPropertyDescriptor(w.prototype,"refresh"),w.prototype),w),J=(U=function(t){function e(){var t,r;Object(u.a)(this,e);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=Object(s.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(o)))).brand=A.EmptyComponent,r}return Object(b.a)(e,t),Object(l.a)(e,[{key:"tick",value:function(){}}]),e}(X),Object(Y.a)(U.prototype,"tick",[V.d],Object.getOwnPropertyDescriptor(U.prototype,"tick"),U.prototype),U),M=r(16),Z=r(10),K=(N=function(t){function e(){var t,r;Object(u.a)(this,e);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=Object(s.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(o)))).brand=A.ReactorComponent,Object(B.a)(r,"currentEU",z,Object(Z.a)(Object(Z.a)(r))),Object(B.a)(r,"nextEU",D,Object(Z.a)(Object(Z.a)(r))),r}return Object(b.a)(e,t),Object(l.a)(e,[{key:"tick",value:function(){}},{key:"addNextEU",value:function(t){this.nextEU+=t}},{key:"finalizeTick",value:function(){Object(M.a)(Object(p.a)(e.prototype),"finalizeTick",this).call(this),this.currentEU+=this.nextEU,this.nextEU=0}},{key:"refresh",value:function(){Object(M.a)(Object(p.a)(e.prototype),"refresh",this).call(this),this.nextEU=0,this.currentEU=0}},{key:"neighbours",get:function(){throw new Error("There cannot be neigbours for a reactor component!")}},{key:"maxHeat",get:function(){return 8500}}]),e}(X),z=Object(Y.a)(N.prototype,"currentEU",[V.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=Object(Y.a)(N.prototype,"nextEU",[V.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(Y.a)(N.prototype,"tick",[V.d],Object.getOwnPropertyDescriptor(N.prototype,"tick"),N.prototype),Object(Y.a)(N.prototype,"addNextEU",[V.d],Object.getOwnPropertyDescriptor(N.prototype,"addNextEU"),N.prototype),Object(Y.a)(N.prototype,"finalizeTick",[V.d],Object.getOwnPropertyDescriptor(N.prototype,"finalizeTick"),N.prototype),Object(Y.a)(N.prototype,"refresh",[V.d],Object.getOwnPropertyDescriptor(N.prototype,"refresh"),N.prototype),N),L=(T=function(t){function e(){var t,r;Object(u.a)(this,e);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=Object(s.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(o))),Object(B.a)(r,"brand",P,Object(Z.a)(Object(Z.a)(r))),r}return Object(b.a)(e,t),Object(l.a)(e,[{key:"getEUHeat",value:function(t){var e=1+t.filter(function(t){return t.isReflector}).length+Math.floor(this.arity/2);return{eu:5*this.arity*e,heat:2*this.arity*e*(e+1)}}},{key:"tick",value:function(){var t=this.neighbours,e=this.getEUHeat(t),r=e.eu,n=e.heat;this.reactorComponent.addNextEU(r);var o=t.filter(function(t){return t.isHeatable});if(0===o.length)this.reactorComponent.addNextHeat(n);else{var a=Math.floor(n/o.length),c=!0,i=!1,u=void 0;try{for(var l,s=o[Symbol.iterator]();!(c=(l=s.next()).done);c=!0){l.value.addNextHeat(a)}}catch(p){i=!0,u=p}finally{try{c||null==s.return||s.return()}finally{if(i)throw u}}o[0].addNextHeat(n%o.length)}}},{key:"arity",get:function(){throw new Error("Cannot get arity from an abstract cell")}},{key:"isReflector",get:function(){return!0}}]),e}(X),P=Object(Y.a)(T.prototype,"brand",[V.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(Y.a)(T.prototype,"tick",[V.d],Object.getOwnPropertyDescriptor(T.prototype,"tick"),T.prototype),T),Q=function(t){function e(){var t,r;Object(u.a)(this,e);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=Object(s.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(o)))).brand=A.UraniumCellSingle,r}return Object(b.a)(e,t),Object(l.a)(e,[{key:"arity",get:function(){return 1}},{key:"isReflector",get:function(){return!0}}]),e}(L),$=(R=function(t){function e(){var t,r;Object(u.a)(this,e);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=Object(s.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(o)))).brand=A.CoolantCell20k,r}return Object(b.a)(e,t),Object(l.a)(e,[{key:"tick",value:function(){}},{key:"maxHeat",get:function(){return 1e4}}]),e}(X),Object(Y.a)(R.prototype,"tick",[V.d],Object.getOwnPropertyDescriptor(R.prototype,"tick"),R.prototype),R),q=(S=function(t){function e(){var t,r;Object(u.a)(this,e);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=Object(s.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(o)))).brand=A.HeatVent,r}return Object(b.a)(e,t),Object(l.a)(e,[{key:"tick",value:function(){this.lowerNextHeat(6)}},{key:"maxHeat",get:function(){return 1e3}}]),e}(X),Object(Y.a)(S.prototype,"tick",[V.d],Object.getOwnPropertyDescriptor(S.prototype,"tick"),S.prototype),S),F=function(t){function e(){var t,r;Object(u.a)(this,e);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=Object(s.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(o)))).brand=A.UraniumCellDouble,r}return Object(b.a)(e,t),Object(l.a)(e,[{key:"arity",get:function(){return 2}},{key:"isReflector",get:function(){return!0}}]),e}(L);!function(t){t.EmptyComponent="EmptyComponent",t.ReactorComponent="ReactorComponent",t.UraniumCellSingle="UraniumCellSingle",t.UraniumCellDouble="UraniumCellDouble",t.HeatVent="HeatVent",t.CoolantCell20k="CoolantCell20k"}(A||(A={}));var tt,et=(W={},Object(I.a)(W,A.EmptyComponent,J),Object(I.a)(W,A.ReactorComponent,K),Object(I.a)(W,A.UraniumCellSingle,Q),Object(I.a)(W,A.UraniumCellDouble,F),Object(I.a)(W,A.HeatVent,q),Object(I.a)(W,A.CoolantCell20k,$),W),rt=Object.keys(et).filter(function(t){return t!==A.ReactorComponent});var nt,ot,at,ct,it,ut=Object(O.b)(m)(tt=function(t){function e(t){var r;return Object(u.a)(this,e),(r=Object(s.a)(this,Object(p.a)(e).call(this,t))).store=void 0,r.brandGrid=void 0,r.rowSize=4,r.pickComponent=function(t,e){return function(){r.store.selectedComponent=r.brandGrid[e][t],r.setState({selectedX:t,selectedY:e})}},r.isSelected=function(t,e){return r.state.selectedX===t&&r.state.selectedY===e},r.store=t.store,r.brandGrid=function(t,e){for(var r=[],n=[],o=0;o<t.length;o++)n.push(t[o]),o%e===e-1&&(r.push(n),n=[]);return 0!==n.length&&r.push(n),r}(rt,r.rowSize),r.state={selectedX:0,selectedY:0},r}return Object(b.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this;return o.createElement("table",{className:d.a.table_grid},o.createElement("tbody",null,this.brandGrid.map(function(e,r){return o.createElement("tr",{key:r},e.map(function(e,a){return o.createElement("td",{key:a,onClick:t.pickComponent(a,r)},o.createElement(G,{brand:e,selected:t.isSelected(a,r)?n.high:void 0}))}))})))}}]),e}(o.Component))||tt,lt=Object(O.b)(m)(nt=Object(O.c)(nt=function(t){function e(t){var r;return Object(u.a)(this,e),(r=Object(s.a)(this,Object(p.a)(e).call(this,t))).store=void 0,r.changeCell=function(t,e){return function(){r.store.reactor.setComponentClass(t,e,r.store.selectedComponent),r.store.recount()}},r.store=t.store,r}return Object(b.a)(e,t),Object(l.a)(e,[{key:"getSelection",value:function(t){return 0===t.currentHeat?void 0:t.currentHeat<50?n.low:t.currentHeat<200?n.medium:n.high}},{key:"render",value:function(){var t=this;return o.createElement("table",{className:d.a.table_grid},o.createElement("tbody",null,this.store.reactor.grid.map(function(e,r){return o.createElement("tr",{key:r+1},e.map(function(e,n){return o.createElement("td",{key:n+1,onClick:t.changeCell(n+1,r+1)},o.createElement(G,{brand:e.brand,selected:t.getSelection(e),bar:e.heatRatio}))}))})))}}]),e}(o.Component))||nt)||nt,st=r(20),pt=r.n(st),bt=Object(O.b)(m)(ot=Object(O.c)(ot=function(t){function e(t){var r;return Object(u.a)(this,e),(r=Object(s.a)(this,Object(p.a)(e).call(this,t))).store=void 0,r.store=t.store,r}return Object(b.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return o.createElement("div",{className:pt.a.info},o.createElement("p",null,"Current Heat: ",this.store.reactor.currentHeat,"."),o.createElement("p",null,"Current EU: ",this.store.reactor.currentEU,"."),o.createElement("p",null,o.createElement("input",{type:"button",onClick:this.store.tick,value:"Tick!"}),o.createElement("input",{type:"button",onClick:this.store.recount,value:"Reset"})))}}]),e}(o.Component))||ot)||ot,ht=function(t){function e(){return Object(u.a)(this,e),Object(s.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(b.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return o.createElement("div",null,o.createElement(lt,null),o.createElement(bt,null))}}]),e}(o.Component),ft=function(t){function e(){return Object(u.a)(this,e),Object(s.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(b.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return o.createElement("div",{className:f.a.app},o.createElement(ht,null),o.createElement(ut,null))}}]),e}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var yt,dt,Ot,mt,jt=(at=function(){function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;Object(u.a)(this,t),this.gridRows=6,this.defaultGridCols=3,this.gridCols=void 0,Object(B.a)(this,"reactorComponent",ct,this),Object(B.a)(this,"grid",it,this),Object(V.l)(function(){e.reactorComponent=new K(e,-1,-1),e.gridCols=e.defaultGridCols+r;for(var t=0;t<e.gridRows;t++){e.grid[t]=[];for(var n=0;n<e.gridCols;n++)e.grid[t][n]=new J(e,n,t)}})}return Object(l.a)(t,[{key:"getComponent",value:function(t,e){if(this.isWrongCoords(t,e))throw new Error("Wrong coords: ".concat(t,", ").concat(e));return this.grid[e-1][t-1]}},{key:"setComponent",value:function(t,e,r){if(this.isWrongCoords(t,e))throw new Error("Wrong coords: ".concat(t,", ").concat(e));return this.grid[e-1][t-1]=r,r}},{key:"isWrongCoords",value:function(t,e){return t<=0||t>this.gridCols||e<=0||e>this.gridRows}},{key:"getComponentType",value:function(t,e){if(this.isWrongCoords(t,e))throw new Error("Wrong coords: ".concat(t,", ").concat(e));return this.getComponent(t,e).brand}},{key:"setComponentClass",value:function(t,e,r){if(this.isWrongCoords(t,e))throw new Error("Wrong coords: ".concat(t,", ").concat(e));var n;if("string"===typeof r){if(r===A.ReactorComponent)throw new Error("You cannot add reactor component to grid");n=new et[r](this,t,e)}else if((n=new r(this,t,e)).brand===A.ReactorComponent)throw new Error("You cannot add reactor component to grid");return this.setComponent(t,e,n)}},{key:"getNeighbourCoords",value:function(t,e){var r=this;return[{x:t,y:e+1},{x:t,y:e-1},{x:t+1,y:e},{x:t-1,y:e}].filter(function(t){return!r.isWrongCoords(t.x,t.y)})}},{key:"getNeighbours",value:function(t,e){var r=this;return this.getNeighbourCoords(t,e).map(function(t){return r.getComponent(t.x,t.y)}).filter(function(t){return t.brand!==A.EmptyComponent})}},{key:"tick",value:function(){var t=this.components;t.forEach(function(t){return t.tick()}),t.forEach(function(t){return t.finalizeTick()}),this.reactorComponent.finalizeTick()}},{key:"refresh",value:function(){this.components.forEach(function(t){return t.refresh()}),this.reactorComponent.refresh()}},{key:"components",get:function(){var t=[],e=!0,r=!1,n=void 0;try{for(var o,a=this.grid[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var c=o.value,i=!0,u=!1,l=void 0;try{for(var s,p=c[Symbol.iterator]();!(i=(s=p.next()).done);i=!0){var b=s.value;b.brand!==A.EmptyComponent&&t.push(b)}}catch(h){u=!0,l=h}finally{try{i||null==p.return||p.return()}finally{if(u)throw l}}}}catch(h){r=!0,n=h}finally{try{e||null==a.return||a.return()}finally{if(r)throw n}}return t}},{key:"currentEU",get:function(){return this.reactorComponent.currentEU}},{key:"nextEU",get:function(){return this.reactorComponent.nextEU}},{key:"currentHeat",get:function(){return this.reactorComponent.currentHeat}},{key:"nextHeat",get:function(){return this.reactorComponent.nextHeat}}]),t}(),ct=Object(Y.a)(at.prototype,"reactorComponent",[V.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=Object(Y.a)(at.prototype,"grid",[V.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(Y.a)(at.prototype,"setComponent",[V.d],Object.getOwnPropertyDescriptor(at.prototype,"setComponent"),at.prototype),Object(Y.a)(at.prototype,"setComponentClass",[V.d],Object.getOwnPropertyDescriptor(at.prototype,"setComponentClass"),at.prototype),Object(Y.a)(at.prototype,"tick",[V.d],Object.getOwnPropertyDescriptor(at.prototype,"tick"),at.prototype),Object(Y.a)(at.prototype,"refresh",[V.d],Object.getOwnPropertyDescriptor(at.prototype,"refresh"),at.prototype),at),gt=(yt=V.d.bound,dt=V.d.bound,Ot=function(){function t(e){var r=this;Object(u.a)(this,t),Object(B.a)(this,"reactor",mt,this),this.selectedComponent=void 0,Object(V.l)(function(){r.reactor=new jt(e),r.selectedComponent=A.EmptyComponent})}return Object(l.a)(t,[{key:"recount",value:function(){this.reactor.refresh(),this.reactor.tick()}},{key:"tick",value:function(){this.reactor.tick()}}]),t}(),mt=Object(Y.a)(Ot.prototype,"reactor",[V.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(Y.a)(Ot.prototype,"recount",[yt],Object.getOwnPropertyDescriptor(Ot.prototype,"recount"),Ot.prototype),Object(Y.a)(Ot.prototype,"tick",[dt],Object.getOwnPropertyDescriptor(Ot.prototype,"tick"),Ot.prototype),Ot),kt=function(t){function e(t){var r;return Object(u.a)(this,e),(r=Object(s.a)(this,Object(p.a)(e).call(this,t))).store=void 0,r.store=new gt,r}return Object(b.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return o.createElement(O.a,{store:this.store},this.props.children)}}]),e}(o.Component);Object(V.e)({enforceActions:"always"}),i.a.render(a.a.createElement(kt,null,a.a.createElement(ft,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[21,2,1]]]);
//# sourceMappingURL=main.97148251.chunk.js.map